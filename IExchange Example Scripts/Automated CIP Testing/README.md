This is a example template of an iterative script to make incremental changes to a model network, simulate with the changes, and review to make further incremenatal changes until specified conditions are met.
The current example iteratively increases pipe size by 1 inch at a time until no pipes have a surcharge state of 2.

